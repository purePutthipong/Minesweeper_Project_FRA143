# Game Manual / Explanation

Minesweeper เป็นเกมแนวปริศนา (puzzle game) ที่มีเป้าหมายหลักคือการเปิดช่องบนกระดานให้หมด โดยหลีกเลี่ยงไม่ให้คลิกโดนกับระเบิด (mine) ที่ซ่อนอยู่ หากผู้เล่นสามารถเปิดช่องที่ไม่มีระเบิดทั้งหมดได้โดยไม่พลาด เกมจะถือว่าชนะทันที แต่หากคลิกโดนระเบิด เกมจะจบทันทีและถือว่าแพ้

---

## How to Play

ในขณะเล่นแต่ละรอบ ผู้เล่นต้องพิมพ์ชุดคำสั่งในรูปแบบ `command, column, row` เพื่อโต้ตอบกับเกมดังนี้:

- พิมพ์ `r` เพื่อเปิดช่อง (reveal)
- พิมพ์ `f` เพื่อวางธง (flag) เพื่อทำเครื่องหมายว่าช่องนั้นอาจมีระเบิดซ่อนอยู่

ตัวอย่างการพิมพ์คำสั่ง:
เมื่อเปิดช่องที่ไม่มีระเบิด ตัวเลขตั้งแต่ 1 ถึง 8 จะปรากฏขึ้น ซึ่งตัวเลขเหล่านี้บอกว่ามีระเบิดอยู่รอบๆ ช่องนั้นกี่ช่อง (ภายใน 8 ช่องที่ติดกันโดยรอบ)  
หากเปิดช่องว่าง (ไม่มีระเบิดรอบข้างเลย) ระบบจะเปิดช่องใกล้เคียงบน,ล่าง,ซ้าย และขวาให้อัตโนมัติ (chain reveal)  
เล่นไปเรื่อยๆ จนกว่าจะชนะ (เปิดครบทุกช่องที่ไม่ใช่ระเบิด) หรือแพ้ (เปิดช่องที่มีระเบิด) หากแพ้ให้นับคะแนนรวมสูงสุด

---

## การนับแต้ม (Scoring)

- เมื่อเปิดพื้นที่ได้ในแต่ละรอบ จะได้จำนวนแต้มตามจำนวนช่องที่เปิดได้ โดย **1 ช่องที่เปิดได้ = 10 คะแนน**
- หากในรอบนั้นเปิดได้หลายช่อง (เช่น chain reveal) จะได้คะแนนรวมจากจำนวนช่องทั้งหมด
  - ตัวอย่าง: เปิด 1 ครั้ง แล้วเปิดได้ 7 ช่อง → ได้ 70 คะแนน
- ผู้เล่นจะเล่นจนกว่าจะชนะหรือแพ้ และหลังจากนั้นจะแสดงคะแนนรวมทั้งหมดที่ได้ออกมา

---

# Functional and Non-Functional Requirements

## Functional Requirements

1. ระบบเริ่มเกมสามารถสุ่มตำแหน่งของกับระเบิดบนกระดานขนาดที่กำหนด
2. ระบบต้องรับประกันว่าช่องแรกที่เปิดจะไม่เป็นระเบิด
3. ระบบต้องสามารถตั้งค่าขนาดกระดานและจำนวนระเบิดตามระดับ (Easy, Medium, Hard)
4. ระบบต้องสามารถรับคำสั่งจากผู้เล่นในรูปแบบ `command, row, column` ได้ โดย `command` มี 2 ค่า:
   - `r` (reveal) เพื่อเปิดช่อง
   - `f` (flag) เพื่อปักธง
5. ระบบต้องสามารถตรวจสอบความถูกต้องของคำสั่ง (`command`) และตำแหน่งที่ผู้เล่นระบุ (ไม่เกินขอบเขตกระดาน)
6. ระบบต้องนับคะแนนจากจำนวนช่องที่เปิดได้ โดยให้:
   - 1 ช่องที่เปิด = 10 คะแนน
   - คะแนนจะเพิ่มขึ้นเรื่อยๆ ตามจำนวนช่องที่เปิดได้ (รวม chain reveal)
7. คะแนนต้องแสดงผลหลังจบเกม (ชนะหรือแพ้)
8. เกมจะจบเมื่อ:
   - ผู้เล่นเปิดช่องที่เป็นระเบิด → แพ้
   - ผู้เล่นเปิดครบทุกช่องที่ไม่ใช่ระเบิด → ชนะ
9. เมื่อเกมจบ ระบบต้องแสดงผล:
   - ผลลัพธ์ (ชนะหรือแพ้)
   - คะแนนรวมทั้งหมดที่ผู้เล่นทำได้
10. การแสดงผลกระดาน:
    - ระบบต้องสามารถแสดงกระดานในรูปแบบที่ผู้เล่นเข้าใจได้ เช่น ช่องที่เปิดแล้วแสดงเป็นช่องว่างหรือตัวเลข ช่องที่ปักธงแสดงเป็นตัว “F”
    - ต้องอัปเดตสถานะกระดานทุกครั้งหลังรับคำสั่ง

## Non-Functional Requirements

1. ระบบต้องสามารถตอบสนองคำสั่งของผู้เล่นภายในเวลาไม่เกิน 1 วินาทีต่อคำสั่ง
2. การเปิดหลายช่องแบบอัตโนมัติ (chain reveal) ต้องทำได้รวดเร็วโดยไม่มีดีเลย์ที่รู้สึกได้
3. รูปแบบการพิมพ์คำสั่ง `command, column, row` ต้องง่ายต่อการเข้าใจและใช้งาน
4. ระบบต้องมีการแสดงผลกระดานอย่างชัดเจน โดยใช้สัญลักษณ์แทนสถานะของช่อง เช่น `F`, `Number`
5. ต้องแสดงข้อความแจ้งเตือนเมื่อผู้ใช้ป้อนคำสั่งผิดพลาด เช่น ค่าที่เกินขนาดกระดาน หรือ `command` ไม่ถูกต้อง
6. ระบบควรตรวจสอบ input ของผู้เล่นทุกครั้งเพื่อป้องกันค่าที่ไม่ถูกต้องหรือเป็นอันตราย เช่น คำสั่งนอกขอบเขต หรือรูปแบบ input ไม่ถูกต้อง
7. ไม่ควรให้ผู้ใช้สามารถเข้าถึงหรือมองเห็นตำแหน่งของระเบิดได้โดยไม่เปิดช่องตามปกติ

---

# User Manual

โปรแกรมนี้คือเกม Minesweeper รูปแบบปริศนา (Puzzle Game) ที่ให้ผู้เล่นเปิดช่องบนกระดานโดยหลีกเลี่ยงการคลิกโดนกับระเบิด (mine) ที่ซ่อนอยู่ ผู้เล่นต้องป้อนคำสั่งในรูปแบบ `command row column` เพื่อโต้ตอบกับเกม เช่น เปิดช่อง หรือวางธง โปรแกรมจะประมวลผลคำสั่งและแสดงสถานะของกระดานในแต่ละรอบจนกว่าจะชนะหรือแพ้

## 2.1 การเริ่มต้นเกม

เมื่อเริ่มทำการ run โปรแกรม จะมีตัวเลือก 3 ระดับให้ผู้เล่นเลือก:

- **Easy (ง่าย)**: กระดานขนาด 8×8
- **Medium (ปานกลาง)**: กระดานขนาด 12×12
- **Hard (ยาก)**: กระดานขนาด 16×16

เมื่อเลือกโหมดที่จะเล่นแล้ว ระบบจะสุ่มวางระเบิดในกระดานตามจำนวนที่กำหนด ผู้เล่นจะเห็นกระดานที่มีแต่เครื่องหมาย “.” ซึ่งแสดงถึงช่องที่ยังไม่ถูกเปิด

## 2.2 การป้อนคำสั่ง

ให้ป้อนคำสั่งในรูปแบบ `command column row `

- `command` มี 2 ค่า:
  - `r` → เปิดช่อง (Reveal)
  - `f` → วางธง (Flag)

ตัวอย่าง:

> **หมายเหตุ:** แถว (column) และคอลัมน์ (row) เริ่มนับจาก 0

## 3. วิธีการเล่นเกม

1. ผู้เล่นจะป้อนคำสั่งเพื่อเปิดช่องหรือวางธงทีละรอบ
2. หากเปิดช่องที่ไม่มีระเบิด ระบบจะแสดงตัวเลข 1–8 (บอกจำนวนระเบิดรอบข้าง)
3. หากเปิดช่องว่าง (ไม่มีระเบิดรอบข้างเลย) ระบบจะเปิดช่องใกล้เคียงบน,ล่าง,ซ้าย และขวาให้อัตโนมัติ (chain reveal)
4. หากเปิดช่องที่มีระเบิด → **แพ้ทันที**
5. หากผู้เล่นเปิดช่องทั้งหมดที่ไม่ใช่ระเบิดได้ครบ → **ชนะ**

## 4. ระบบคะแนน

- ทุกช่องที่เปิดสำเร็จจะได้ **10 คะแนน**
- หากในรอบหนึ่งเปิดได้หลายช่อง (เช่นจากการเปิดช่องว่างที่ลามต่อ) จะได้คะแนนรวมจากจำนวนช่องนั้น
  - ตัวอย่าง: เปิด 1 ครั้ง แล้วเปิดได้ 7 ช่อง → ได้ 70 คะแนน
- เมื่อเกมจบ (ชนะหรือแพ้) โปรแกรมจะแสดงคะแนนรวมทั้งหมด

## 5. ข้อควรระวัง

- ตรวจสอบคำสั่งที่พิมพ์ให้ถูกต้อง เช่น ไม่เกินขอบเขตของกระดาน
- หลีกเลี่ยงการพิมพ์ผิดรูปแบบ เช่น ไม่มีวงเล็บ หรือคั่นด้วยเว้นวรรคมากเกินไป
- ห้ามพิมพ์ค่าลบ หรือค่าที่อยู่นอกขนาดของกระดาน

---

## 📁 โครงสร้างไฟล์

```
project/
├── include/
│ ├── GameObject.h
│ ├── Cell.h
│ ├── MineCell.h
│ └── Game.h
├── src/
│ ├── main.cpp
│ ├── Cell.cpp
│ ├── MineCell.cpp
│ └── Game.cpp
├── Minesweeper
├── README.md

```

## 🛠️ วิธีคอมไพล์และรัน (Windows / Linux)

```bash
g++ -std=c++20 -Iinclude src/*.cpp -o minesweeper
./minesweeper  # On Windows: .\minesweeper
```

## 🛠️ สำหรับผู้ใช้ Windows (PowerShell)

หากคุณเคยรัน `minesweeper.exe` ไปแล้วและต้องการคอมไพล์ใหม่ อาจเจอปัญหา `Permission denied`  
**ใช้คำสั่งนี้เพื่อล้างการทำงานเดิมและคอมไพล์ใหม่:**

```powershell
taskkill /f /im minesweeper.exe 2> $null
g++ -std=c++20 -Iinclude src/*.cpp -o minesweeper.exe
.\minesweeper.exe
```

## 🐧 สำหรับผู้ใช้ Linux / WSL / Mac

```

g++ -std=c++20 -Iinclude src/\*.cpp -o minesweeper
./minesweeper

```
